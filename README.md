# ErrorCodesIndex.com

Static, documentation-style error-code reference site built with Astro (static output) and Tailwind.

## Commands

| Command | Purpose |
| --- | --- |
| `npm install` | Install dependencies |
| `npm run dev` | Run local dev server |
| `npm run sync:gdoc` | Import error-code pages from the locked Google Doc |
| `npm run build` | Import from Google Doc, then build static output |
| `npm run preview` | Preview the production build |

## Locked URL structure

- `/`
- `/healthcare/` → `/healthcare/error-codes/` → `/healthcare/error-codes/{code-slug}/`
- `/irs-tax/` → `/irs-tax/error-codes/` → `/irs-tax/error-codes/{code-slug}/`
- `/banking/` → `/banking/error-codes/` → `/banking/error-codes/{code-slug}/`
- `/gaming/` → `/gaming/error-codes/` → `/gaming/error-codes/{code-slug}/`
- `/appliances/` → `/appliances/{appliance-type}/` → `/appliances/{appliance-type}/{brand}/` → `/appliances/{appliance-type}/{brand}/{series-or-model}/` → `/appliances/{appliance-type}/{brand}/{series-or-model}/error-codes/{code-slug}/`
- `/about/` `/contact/` `/privacy-policy/` `/terms-of-use/` `/disclaimer/`
- `/sitemap.xml` `/robots.txt`

## Google Doc import pipeline

Error-code page bodies are generated by `scripts/sync-google-doc.mjs` and written into Astro Content Collections under `src/content/`.

The importer supports these modes:

1. Default export URL mode:
   - Uses `GDOC_EXPORT_URL` if set, otherwise attempts `https://docs.google.com/document/d/<id>/export?format=html`.
   - The document must be accessible for automated export during builds.

2. Local export file mode:
   - Set `GDOC_HTML_PATH` to a path (relative or absolute) containing an exported HTML copy of the source Google Doc.

If the importer cannot access the document, the build fails to prevent deploying pages with invented or rewritten content.
